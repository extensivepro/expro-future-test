# shops  
## #250 业主开店成功  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：{  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480  
}，向服务发送一个新开店铺请求    
  
### 预期结果  
* **预期1：**  
返回代码200，开店成功并有数据返回：  
{  
  "id": "154d4534a48e475",  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480,  
  "closedAt":  
}  
  
***  
  
## #257 没有权限开新店  
### 前置条件  
**服务已经运行，非业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：{  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480  
}，向服务发送一个新开店铺请求    
  
### 预期结果  
* **预期1：**  
返回代码401，未授权    
  
***  

## #258 业主开店没有name  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：{  
  "code": "010",  
  "name":   
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480  
}，向服务发送一个新开店铺请求    
  
### 预期结果  
* **预期1：**  
返回代码400，请求参数错误    
  
***  

## #259 业主开店没有merchantID或merchantID不存在  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
开店条件中不输入merchantID，以：{  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID":   
  "status": "open",  
  "createdAt": 1364967296480  
}，向服务发送一个新开店铺请求    
* **步骤2：**  
输入一个不存在的merchantID，以：{  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "zzz",  
  "status": "open",  
  "createdAt": 1364967296480  
}，向服务发送一个新开店铺请求    
  
### 预期结果  
* **预期1：**  
返回代码400，请求参数错误    
* **预期2：**  
返回代码400，请求参数错误    
***  

## #260 业主开店没有code或code已存在  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
开店条件中不输入code，以：{  
  "code":    
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",   
  "status": "open",  
  "createdAt": 1364967296480  
}，向服务发送一个新开店铺请求    
* **步骤2：**  
以：{  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480  
}，向服务发送一个新开店铺请求    
* **步骤3：**  
再以：{  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480  
}，向服务发送一个新开店铺请求  
  
### 预期结果  
* **预期1：**  
返回代码400，请求参数错误    
* **预期2：**  
返回代码200，开店成功并有数据返回：  
{  
  "id": "154d4534a48e475",  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480,  
  "closedAt":  
}  
* **预期3：**  
返回代码400，请求参数错误  
  
***  
   
## #252 业主查询所有店铺成功  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
不输入任何查询条件，向服务发送一个查询店铺请求   
  
### 预期结果  
* **预期1：**  
返回代码200，查询成功并返回所有店铺信息：  
[{  
  "id": "154d4534a48e475",  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480,  
  "closedAt":     
}]  
  
***  

## #253 业主通过店铺名称查询店铺信息  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：?name=华仔4号店，向服务发送一个查询店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码200，查询成功并返回对应店铺信息：  
[{  
  "id": "154d4534a48e475",  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480,  
  "closedAt":     
}]  
  
***  

## #254 业主通过开店时间查询店铺信息  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：?{"createdAt":{"$gt":1000}}，向服务发送一个查询店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码200，查询成功并返回对应店铺信息：  
[{  
  "id": "154d4534a48e475",  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480,  
  "closedAt":     
}]  
  
***  

## #255 业主通过关店时间查询店铺信息  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：?{"closedAt":{"$gt":1000}}，向服务发送一个查询店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码200，查询成功并返回对应店铺信息：  
[{  
  "id": "154d4534a48e475",  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480,  
  "closedAt":     
}]  
  
***  

## #256 没有权限查询店铺信息  
### 前置条件  
**服务已经运行，非业主身份**  
   
### 操作步骤  
* **步骤1：**  
不输入任何条件，向服务发送一个查询店铺信息请求    
* **步骤2：**  
以店铺的某一属性，例如：?code=010，向服务发送一个查询店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码401，未授权    
* **预期2：**  
返回代码401，未授权    
***  

## #265 业主通过店铺状态查询店铺信息  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：?status=open，向服务发送一个查询店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码200，查询成功并返回对应店铺信息：  
[{  
  "id": "154d4534a48e475",  
  "code": "010",  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "merchantID": "154d4534a48e475",  
  "status": "open",  
  "createdAt": 1364967296480,  
  "closedAt":     
}]  
  
***  

## #347 业主更新店铺信息成功  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：{  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "status": "open",  
}，向服务发送一个更新店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码200，更新成功  
    
***  

## #346 业主更新店铺信息电话号码错误  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以一个错误的电话号码：{  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "0251",  
  "status": "open",  
}，向服务发送一个更新店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码400，电话号码错误  
    
***  

## #419 业主更新店铺信息status错误  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以一个错误status：{  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "status": "op",  
}，向服务发送一个更新店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码400，请求参数错误    
    
***  

## #344 业主更新店铺信息输入为空  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以空白更新店铺信息：{  
  "name":    
  "address":   
  "telephone":   
  "status":   
}，向服务发送一个更新店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码400，请求参数错误    
    
***  

## #348 没有权限更新店铺信息  
### 前置条件  
**服务已经运行，非业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：{  
  "name": "华仔4号店",  
  "address": "江宁区胜太路44号",  
  "telephone": "02544444444",  
  "status": "open",  
}，向服务发送一个更新店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码401，未授权  
    
***  

## #279 业主关店成功  
### 前置条件  
**服务已经运行，业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：{  
  "status": "closed"  
}，向服务发送一个更新店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码200，关店成功  
    
***  

## #425 没有权限关闭店铺  
### 前置条件  
**服务已经运行，非业主身份**  
   
### 操作步骤  
* **步骤1：**  
以：{  
  "status": "closed"  
}，向服务发送一个更新店铺信息请求  
  
### 预期结果  
* **预期1：**  
返回代码401，未授权  
    
***  












