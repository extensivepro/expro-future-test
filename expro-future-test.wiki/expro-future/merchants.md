# merchants  
## #312 创建商户成功  
### 前置条件  
**服务已经运行，用户已经登录**  

### 操作步骤  
* **步骤1：**  
以：{  
  "code": "10000",  
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  

### 预期结果  
* **预期1：**  
返回代码200，请求成功并返回数据：{  
  "id": "4545a454e454c4d45",  
  "code": "10000",   
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "address": "江宁区胜太路",  
  "telephone": "02551234567",  
  "zip": "211521",  
  "email": "kaluojiuba@qq.com",  
  "owner": {  
    "id": "e8a69acd47baf94c",  
    "displayName": "张业主",  
    "phone": "1891234578",  
    "idcard": "320103197901011234",  
    "male": true,  
    "birthday": "19790101",  
    "email": "18912345678@189.cn",  
  },  
  "status": "open",  
  "shopIDs": [],   
  "createdAt": "1365402743500"  
}  

***  

## #313 未登录用户创建商户  
### 前置条件  
**服务已经运行，用户未登录**  

### 操作步骤  
* **步骤1：**  
以：{  
  "code": "10000",  
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  

### 预期结果  
* **预期1：**  
返回代码401，未授权  

***  

## #314 创建商户不输入商户名或商户名已存在  
### 前置条件  
**服务已经运行，用户已经登录**  

### 操作步骤  
* **步骤1**  
不输入商户名，以：{  
  "code": "10000",  
  "name":   
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  
* **步骤2：**  
以：{  
  "code": "10000",  
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  
* **步骤3：**  
再以：{  
  "code": "10001",  
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  

### 预期结果  
* **预期1：**  
返回代码400，请求参数错误    
* **预期2：**  
返回代码200，请求成功并返回数据：{  
  "id": "4545a454e454c4d45",  
  "code": "10000",   
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "address": "江宁区胜太路",  
  "telephone": "02551234567",  
  "zip": "211521",  
  "email": "kaluojiuba@qq.com",  
  "owner": {  
    "id": "e8a69acd47baf94c",  
    "displayName": "张业主",  
    "phone": "1891234578",  
    "idcard": "320103197901011234",  
    "male": true,  
    "birthday": "19790101",  
    "email": "18912345678@189.cn",  
  },  
  "status": "open",  
  "shopIDs": [],   
  "createdAt": "1365402743500"  
}  
* **预期3：**  
返回代码400，商户名已存在  

***  

## #315 创建商户电话号码错误  
### 前置条件  
**服务已经运行，用户已经登录**  

### 操作步骤  
* **步骤1：**  
以一个错误的电话号码：{  
  "code": "10000",  
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "0251",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  

### 预期结果  
* **预期1：**  
返回代码400，请求参数错误  
  
***  

## #316 创建商户电子邮件错误  
### 前置条件  
**服务已经运行，用户已经登录**  

### 操作步骤  
* **步骤1：**  
以错误的电子邮件：{  
  "code": "10000",  
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiubam",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  

### 预期结果  
* **预期1：**  
返回代码400，请求参数错误  
  
***  

## #317 创建商户同时没有电子邮件和电话号码  
### 前置条件  
**服务已经运行，用户已经登录**  

### 操作步骤  
* **步骤1：**  
不输入电子邮件和电话号码，以：{  
  "code": "10000",  
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone":   
  "email":    
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  
（注：电子邮件或电话号码至少有一个）

### 预期结果  
* **预期1：**  
返回代码400，请求参数错误  

***  

## #318 创建商户不输入code或code已经存在  
### 前置条件  
**服务已经运行，用户已经登录**  

### 操作步骤  
* **步骤1：**  
不输入code，以：{  
  "code":   
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  
* **步骤2：**  
以：{  
  "code": "10000",  
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  
* **步骤3：**  
再以：{  
  "code": "10000",  
  "name": "罗马",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  

### 预期结果  
* **预期1：**  
返回代码400，请求参数错误  
* **预期2：**  
返回代码200，请求成功并返回数据：{  
  "id": "4545a454e454c4d45",  
  "code": "10000",   
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "address": "江宁区胜太路",  
  "telephone": "02551234567",  
  "zip": "211521",  
  "email": "kaluojiuba@qq.com",  
  "owner": {  
    "id": "e8a69acd47baf94c",  
    "displayName": "张业主",  
    "phone": "1891234578",  
    "idcard": "320103197901011234",  
    "male": true,  
    "birthday": "19790101",  
    "email": "18912345678@189.cn",  
  },  
  "status": "open",  
  "shopIDs": [],   
  "createdAt": "1365402743500"  
}  
* **预期3：**  
* 返回代码400，请求参数错误  

***    

## #319 创建商户不输入fullName或fullName已经存在  
### 前置条件  
**服务已经运行，用户已经登录**  

### 操作步骤  
* **步骤1：**  
不输入fullName，以：{  
  "code": "10000",  
  "name": "卡罗酒吧",  
  "fullName":   
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  
* **步骤2：**  
以：{  
  "code": "10000",  
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  
* **步骤3：**  
再以：{  
  "code": "10001",  
  "name": "罗马",  
  "fullName": "南京卡罗酒吧",  
  "telephone": "02551234567",  
  "email": "kaluojiuba@qq.com",   
  "address": "江宁区胜太路",  
  "zip": "211521",  
  "status": "open"  
}，向服务发送一个创建商户请求  

### 预期结果  
* **预期1：**  
返回代码400，请求参数错误  
* **预期2：**  
返回代码200，请求成功并返回数据：{  
  "id": "4545a454e454c4d45",  
  "code": "10000",   
  "name": "卡罗酒吧",  
  "fullName": "南京卡罗酒吧",  
  "address": "江宁区胜太路",  
  "telephone": "02551234567",  
  "zip": "211521",  
  "email": "kaluojiuba@qq.com",  
  "owner": {  
    "id": "e8a69acd47baf94c",  
    "displayName": "张业主",  
    "phone": "1891234578",  
    "idcard": "320103197901011234",  
    "male": true,  
    "birthday": "19790101",  
    "email": "18912345678@189.cn",  
  },  
  "status": "open",  
  "shopIDs": [],   
  "createdAt": "1365402743500"  
}  
* **预期3：**  
* 返回代码400，fullName已经存在  

***  

## #320 业主更新商户信息成功  
### 前置条件  
**服务已经运行，业主身份**  

### 操作步骤  
* **步骤1：**  
以：{  
  "address": "江宁区胜太路",  
  "telephone": "02551234567",  
  "zip": "211521",  
  "email": "kaluojiuba@qq.com",  
  "status": "open"  
}，向服务发送一个更新商户信息请求    

### 预期结果  
* **预期1：**  
返回代码200，更新成功  

***  

## #321 业主更新商户信息联系电话错误  
### 前置条件  
**服务已经运行，业主身份**  

### 操作步骤  
* **步骤1：**  
以一个错误的电话：{  
  "address": "江宁区胜太路",  
  "telephone": "0251",  
  "zip": "211521",  
  "email": "kaluojiuba@qq.com",  
  "status": "open"  
}，向服务发送一个更新商户信息请求    

### 预期结果  
* **预期1：**  
返回代码400，请求参数错误  

***  

## #322 业主更新商户信息电子邮件错误  
### 前置条件  
**服务已经运行，业主身份**  

### 操作步骤  
* **步骤1：**  
以一个错误的电子邮件：{  
  "address": "江宁区胜太路",  
  "telephone": "02552293775",  
  "zip": "211521",  
  "email": "kaluocom",  
  "status": "open"  
}，向服务发送一个更新商户信息请求    

### 预期结果  
* **预期1：**  
返回代码400，请求参数错误  

***  

## #323 业主更新商户信息没有联系电话和电子邮件  
### 前置条件  
**服务已经运行，业主身份**  

### 操作步骤  
* **步骤1：**  
以一个错误的电子邮件：{  
  "address": "江宁区胜太路",  
  "telephone":    
  "zip": "211521",  
  "email":    
  "status": "open"  
}，向服务发送一个更新商户信息请求    

### 预期结果  
* **预期1：**  
返回代码400，请求参数错误  

***  

## #324 非业主身份更新商户信息  
### 前置条件  
**服务已经运行，非业主身份**  

### 操作步骤  
* **步骤1：**  
以：{  
  "address": "江宁区胜太路",  
  "telephone": "02551234567",  
  "zip": "211521",  
  "email": "kaluojiuba@qq.com",  
  "status": "open"  
}，向服务发送一个更新商户信息请求    
  
### 预期结果  
* **预期1：**  
返回代码401，未授权   

***  